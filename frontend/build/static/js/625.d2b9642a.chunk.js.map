{"version":3,"file":"static/js/625.d2b9642a.chunk.js","mappings":"gKAGA,MAAMA,UAAqBC,EAAAA,UAC1BC,WAAAA,CAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACdC,OAAQ,CACN,CACDC,KAAM,YACNC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAExB,CACDD,KAAM,YACNC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAExB,CACDD,KAAM,WACNC,KAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAG1BC,QAAS,CACPC,MAAO,CACRC,KAAM,MACNC,OAAQ,IACRC,QAAS,CAAEC,MAAM,IAEhBC,YAAa,CACdC,IAAK,CACHC,YAAY,EACZC,YAAa,MACbC,YAAa,UACbC,aAAc,KAGfC,MAAO,CACRC,WAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAEtDC,OAAQ,CAAC,UAAW,UAAW,WAC/BC,KAAM,CACPC,QAAS,GAERC,QAAS,CACVC,EAAG,CACDC,UAAW,SAAUC,GACtB,OAAOA,EAAM,OACZ,KAKJ,CAEAC,kBAAAA,CAAmBC,GACbA,EAAUC,eAAiB5B,KAAKF,MAAM8B,cAC3C5B,KAAK6B,gBAAgB7B,KAAKF,MAAM8B,aAEjC,CAGAC,eAAAA,CAAgBD,GACd,MAAME,EAAoBC,MAAM,GAAGX,KAAK,GAClCY,EAAoBD,MAAM,GAAGX,KAAK,GAClCa,EAAmBF,MAAM,GAAGX,KAAK,GAEjCc,EAAc,IAAIC,KAClBC,EAAaF,EAAYG,SAE/BT,EAAaU,SAASC,IACvB,MAAMC,EAAkB,IAAIL,KAAKI,EAAYE,WACvCC,EAAaR,EAAcM,EAC3BG,EAAaC,KAAKC,MAAMH,EAAU,OAExC,GAAIC,GAAc,GAAKA,EAAa,EAAG,CACrC,MAAMG,GAAYV,EAAaO,EAAa,GAAK,EACtB,cAAvBJ,EAAYQ,OACjBjB,EAAkBgB,IAAaE,OAAOT,EAAYU,aAAe,GAC9B,cAAvBV,EAAYQ,OACxBf,EAAkBc,IAAaE,OAAOT,EAAYU,aAAe,GAC9B,aAAvBV,EAAYQ,SACxBd,EAAiBa,IAAaE,OAAOT,EAAYU,aAAe,GAEjE,KAICjD,KAAKkD,SAAS,CACfhD,OAAQ,CACN,CACDC,KAAM,YACNC,KAAM0B,GAEL,CACD3B,KAAM,YACNC,KAAM4B,GAEL,CACD7B,KAAM,WACNC,KAAM6B,KAIR,CAEAkB,MAAAA,GACE,OACDC,EAAAA,EAAAA,KAAA,OAAKC,GAAG,QAAOC,UACbF,EAAAA,EAAAA,KAACG,EAAAA,EAAc,CAChBlD,QAASL,KAAKC,MAAMI,QACpBH,OAAQF,KAAKC,MAAMC,OACnBK,KAAK,MACLC,OAAQ,OAIV,EAGD,S","sources":["jsx/components/Dashboard/Dashboard/ChartBarApex.js"],"sourcesContent":["import React from \"react\";\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\nclass ChartBarApex extends React.Component {\r\n\tconstructor(props) {\r\n\t  super(props);\r\n\t  this.state = {\r\n\t\tseries: [\r\n\t\t  {\r\n\t\t\tname: 'Completed',\r\n\t\t\tdata: [0, 0, 0, 0, 0, 0, 0], // Données pour les transactions \"completed\"\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tname: 'Initiated',\r\n\t\t\tdata: [0, 0, 0, 0, 0, 0, 0], // Données pour les transactions \"initiated\"\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tname: 'Canceled',\r\n\t\t\tdata: [0, 0, 0, 0, 0, 0, 0], // Données pour les transactions \"canceled\"\r\n\t\t  },\r\n\t\t],\r\n\t\toptions: {\r\n\t\t  chart: {\r\n\t\t\ttype: 'bar',\r\n\t\t\theight: 350,\r\n\t\t\ttoolbar: { show: true },\r\n\t\t  },\r\n\t\t  plotOptions: {\r\n\t\t\tbar: {\r\n\t\t\t  horizontal: false,\r\n\t\t\t  columnWidth: '57%',\r\n\t\t\t  endingShape: \"rounded\",\r\n\t\t\t  borderRadius: 12,\r\n\t\t\t},\r\n\t\t  },\r\n\t\t  xaxis: {\r\n\t\t\tcategories: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],\r\n\t\t  },\r\n\t\t  colors: ['#4CAF50', '#FFA500', '#FF0000'], // Vert, orange, rouge\r\n\t\t  fill: {\r\n\t\t\topacity: 1,\r\n\t\t  },\r\n\t\t  tooltip: {\r\n\t\t\ty: {\r\n\t\t\t  formatter: function (val) {\r\n\t\t\t\treturn val + \" FCFA\";\r\n\t\t\t  },\r\n\t\t\t},\r\n\t\t  },\r\n\t\t},\r\n\t  };\r\n\t}\r\n  \r\n\tcomponentDidUpdate(prevProps) {\r\n\t  if (prevProps.transactions !== this.props.transactions) {\r\n\t\tthis.updateChartData(this.props.transactions);\r\n\t  }\r\n\t}\r\n  \r\n\t// Fonction pour calculer les sommes des transactions par statut pour chaque jour de la semaine\r\n\tupdateChartData(transactions) {\r\n\t  const weekSumsCompleted = Array(7).fill(0); // Transactions \"completed\"\r\n\t  const weekSumsInitiated = Array(7).fill(0); // Transactions \"initiated\"\r\n\t  const weekSumsCanceled = Array(7).fill(0); // Transactions \"canceled\"\r\n  \r\n\t  const currentDate = new Date();\r\n\t  const currentDay = currentDate.getDay(); // Le jour actuel de la semaine (0 = dimanche, 6 = samedi)\r\n  \r\n\t  transactions.forEach((transaction) => {\r\n\t\tconst transactionDate = new Date(transaction.createdAt);\r\n\t\tconst diffInTime = currentDate - transactionDate;\r\n\t\tconst diffInDays = Math.floor(diffInTime / (1000 * 3600 * 24));\r\n  \r\n\t\tif (diffInDays >= 0 && diffInDays < 7) {\r\n\t\t  const dayIndex = (currentDay - diffInDays + 7) % 7;\r\n\t\t  if (transaction.status === 'completed') {\r\n\t\t\tweekSumsCompleted[dayIndex] += Number(transaction.amountTotal || 0);\r\n\t\t  } else if (transaction.status === 'initiated') {\r\n\t\t\tweekSumsInitiated[dayIndex] += Number(transaction.amountTotal || 0);\r\n\t\t  } else if (transaction.status === 'canceled') {\r\n\t\t\tweekSumsCanceled[dayIndex] += Number(transaction.amountTotal || 0);\r\n\t\t  }\r\n\t\t}\r\n\t  });\r\n  \r\n\t  // Mettre à jour les séries de données avec les nouvelles sommes\r\n\t  this.setState({\r\n\t\tseries: [\r\n\t\t  {\r\n\t\t\tname: 'Completed',\r\n\t\t\tdata: weekSumsCompleted,\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tname: 'Initiated',\r\n\t\t\tdata: weekSumsInitiated,\r\n\t\t  },\r\n\t\t  {\r\n\t\t\tname: 'Canceled',\r\n\t\t\tdata: weekSumsCanceled,\r\n\t\t  },\r\n\t\t],\r\n\t  });\r\n\t}\r\n  \r\n\trender() {\r\n\t  return (\r\n\t\t<div id=\"chart\">\r\n\t\t  <ReactApexChart\r\n\t\t\toptions={this.state.options}\r\n\t\t\tseries={this.state.series}\r\n\t\t\ttype=\"bar\"\r\n\t\t\theight={370}\r\n\t\t  />\r\n\t\t</div>\r\n\t  );\r\n\t}\r\n  }  \r\n\r\nexport default ChartBarApex;"],"names":["ChartBarApex","React","constructor","props","super","this","state","series","name","data","options","chart","type","height","toolbar","show","plotOptions","bar","horizontal","columnWidth","endingShape","borderRadius","xaxis","categories","colors","fill","opacity","tooltip","y","formatter","val","componentDidUpdate","prevProps","transactions","updateChartData","weekSumsCompleted","Array","weekSumsInitiated","weekSumsCanceled","currentDate","Date","currentDay","getDay","forEach","transaction","transactionDate","createdAt","diffInTime","diffInDays","Math","floor","dayIndex","status","Number","amountTotal","setState","render","_jsx","id","children","ReactApexChart"],"sourceRoot":""}